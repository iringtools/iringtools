@prefix dnr: <http://www.dotnetrdf.org/configuration#> .
# Add the required Object Factories
   
[] a dnr:ObjectFactory ;
	dnr:type "VDS.RDF.Configuration.AdoObjectFactory, dotNetRDF.Data.Sql" .

<dotnetrdf:/services/facade/sparql/*> a dnr:HttpHandler ;
        dnr:cacheDuration "0";
        dnr:queryProcessor _:qProc ;
        dnr:updateProcessor _:uProc ;
        dnr:protocolProcessor _:pProc ;
        dnr:stylesheet "../../css/sparql-query.css" ;		
        dnr:introText "~/App_Data/FacadeIntro.txt" ;
        dnr:type "VDS.RDF.Web.SparqlServer" ;
        dnr:defaultQueryFile "~/App_Data/AllQuery.txt" .

_:qProc a dnr:SparqlQueryProcessor ;
        dnr:type "VDS.RDF.Query.LeviathanQueryProcessor" ;
        dnr:usingDataset _:sqlDataset .

_:uProc a dnr:SparqlUpdateProcessor ;
        dnr:type "VDS.RDF.Update.LeviathanUpdateProcessor" ;
        dnr:usingDataset _:sqlDataset .

_:pProc a dnr:SparqlHttpProtocolProcessor ;
        dnr:type "VDS.RDF.Update.Protocol.LeviathanProtocolProcessor" ;
        dnr:usingDataset _:sqlDataset .

_:sqlDataset a dnr:SparqlDataset ;
       dnr:type "VDS.RDF.Query.Datasets.MicrosoftAdoDataset, dotNetRDF.Data.Sql" ;
       dnr:genericManager _:sqlDatabase .

_:sqlDatabase a dnr:GenericIOManager ;
        dnr:type "VDS.RDF.Storage.MicrosoftAdoManager, dotNetRDF.Data.Sql" ;
        dnr:server ".\SQLEXPRESS" ;
        dnr:database "FacadeDb050" ;
        dnr:user "dotNetRDF" ;
        dnr:password "dotNetRDF" .

<dotnetrdf:/services/sandbox/sparql/*> a dnr:HttpHandler ;
        dnr:cacheDuration "0";
        dnr:queryProcessor _:qProcS ;
        dnr:updateProcessor _:uProcS ;
        dnr:protocolProcessor _:pProcS ;
        dnr:stylesheet "../../css/sparql-query.css" ;		
        dnr:introText "~/App_Data/SandboxIntro.txt" ;
        dnr:type "VDS.RDF.Web.SparqlServer" ;
        dnr:defaultQueryFile "~/App_Data/LabelQuery.txt" .

_:qProcS a dnr:SparqlQueryProcessor ;
        dnr:type "VDS.RDF.Query.LeviathanQueryProcessor" ;
        dnr:usingDataset _:sqlDatasetS .

_:uProcS a dnr:SparqlUpdateProcessor ;
        dnr:type "VDS.RDF.Update.LeviathanUpdateProcessor" ;
        dnr:usingDataset _:sqlDatasetS .

_:pProcS a dnr:SparqlHttpProtocolProcessor ;
        dnr:type "VDS.RDF.Update.Protocol.LeviathanProtocolProcessor" ;
        dnr:usingDataset _:sqlDatasetS .

_:sqlDatasetS a dnr:SparqlDataset ;
       dnr:type "VDS.RDF.Query.Datasets.MicrosoftAdoDataset, dotNetRDF.Data.Sql" ;
       dnr:genericManager _:sqlDatabaseS .

_:sqlDatabaseS a dnr:GenericIOManager ;
         dnr:type "VDS.RDF.Storage.MicrosoftAdoManager, dotNetRDF.Data.Sql" ;
        dnr:server ".\SQLEXPRESS" ;
        dnr:database "SandboxDb050" ;
        dnr:user "dotNetRDF" ;
        dnr:password "dotNetRDF" . 		